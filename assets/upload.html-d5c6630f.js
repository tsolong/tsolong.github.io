import{_ as s,p as n,q as a,a1 as t}from"./framework-cf3d8b6f.js";const e={},p=t(`<h1 id="上传配置" tabindex="-1"><a class="header-anchor" href="#上传配置" aria-hidden="true">#</a> 上传配置</h1><h2 id="前端配置" tabindex="-1"><a class="header-anchor" href="#前端配置" aria-hidden="true">#</a> 前端配置</h2><p>与0.x版本不同，新版前端在日常使用下不需要调用 <code>viewImage</code> 函数了</p><p>只需要在 <code>src/config/upload.js</code> 配置域名即可</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">storage</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token constant">LOCAL</span><span class="token operator">:</span> <span class="token string">&#39;http://127.0.0.1:9501&#39;</span><span class="token punctuation">,</span>
    <span class="token constant">OSS</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    <span class="token constant">COS</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    <span class="token constant">QINIU</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>文件大小配置在 src/components/ma-upload/index.vue里面. 搜索size,修改参数.</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>size: { type: Number, default: 4 * 1024 * 1024 }
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="后端配置" tabindex="-1"><a class="header-anchor" href="#后端配置" aria-hidden="true">#</a> 后端配置</h2><h3 id="配置上传大小" tabindex="-1"><a class="header-anchor" href="#配置上传大小" aria-hidden="true">#</a> 配置上传大小</h3><p>在 <code>config/autoload/serve.php</code> 文件，修改下面参数，可设置允许最大上传文件大小</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token class-name static-context">Constant</span><span class="token operator">::</span><span class="token constant">OPTION_PACKAGE_MAX_LENGTH</span>      <span class="token operator">=&gt;</span> <span class="token number">4</span> <span class="token operator">*</span> <span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">1024</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="存储方式配置" tabindex="-1"><a class="header-anchor" href="#存储方式配置" aria-hidden="true">#</a> 存储方式配置</h3><p>在 <code>config/autoload/file.php</code> 文件里配置上传存储服务</p><div class="custom-container tip"><p class="custom-container-title">提示</p><p>具体启用哪个上传服务是在后台<code>系统设置</code>里配置</p></div><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">&#39;default&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;local&#39;</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">&#39;storage&#39;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">&#39;local&#39;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">&#39;driver&#39;</span> <span class="token operator">=&gt;</span> <span class="token class-name class-name-fully-qualified static-context"><span class="token punctuation">\\</span>Hyperf<span class="token punctuation">\\</span>Filesystem<span class="token punctuation">\\</span>Adapter<span class="token punctuation">\\</span>LocalAdapterFactory</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">&#39;root&#39;</span> <span class="token operator">=&gt;</span> <span class="token constant">__DIR__</span> <span class="token operator">.</span> <span class="token string single-quoted-string">&#39;/../../public/uploadfile&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;oss&#39;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">&#39;driver&#39;</span> <span class="token operator">=&gt;</span> <span class="token class-name class-name-fully-qualified static-context"><span class="token punctuation">\\</span>Hyperf<span class="token punctuation">\\</span>Filesystem<span class="token punctuation">\\</span>Adapter<span class="token punctuation">\\</span>AliyunOssAdapterFactory</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">&#39;accessId&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">&#39;accessSecret&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">&#39;bucket&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">&#39;endpoint&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">&#39;domain&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">&#39;schema&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;http://&#39;</span><span class="token punctuation">,</span>
            <span class="token operator">...</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;qiniu&#39;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">&#39;driver&#39;</span> <span class="token operator">=&gt;</span> <span class="token class-name class-name-fully-qualified static-context"><span class="token punctuation">\\</span>Hyperf<span class="token punctuation">\\</span>Filesystem<span class="token punctuation">\\</span>Adapter<span class="token punctuation">\\</span>QiniuAdapterFactory</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">&#39;accessKey&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">&#39;secretKey&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">&#39;bucket&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">&#39;domain&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">&#39;schema&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;http://&#39;</span><span class="token punctuation">,</span>
            <span class="token operator">...</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;cos&#39;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">&#39;driver&#39;</span> <span class="token operator">=&gt;</span> <span class="token class-name class-name-fully-qualified static-context"><span class="token punctuation">\\</span>Hyperf<span class="token punctuation">\\</span>Filesystem<span class="token punctuation">\\</span>Adapter<span class="token punctuation">\\</span>CosAdapterFactory</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">&#39;region&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">&#39;domain&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">&#39;schema&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;http://&#39;</span><span class="token punctuation">,</span>
            <span class="token operator">...</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token delimiter important">?&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,15),o=[p];function i(l,c){return n(),a("div",null,o)}const u=s(e,[["render",i],["__file","upload.html.vue"]]);export{u as default};
