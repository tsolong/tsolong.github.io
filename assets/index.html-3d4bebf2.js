import{_ as i,p as l,q as p,a1 as e}from"./framework-cf3d8b6f.js";const a={},r=e(`<h1 id="版本更新记录-自1-3-x版本开始版本更新记录将不在此处展示。请根据-github-release-为准" tabindex="-1"><a class="header-anchor" href="#版本更新记录-自1-3-x版本开始版本更新记录将不在此处展示。请根据-github-release-为准" aria-hidden="true">#</a> 版本更新记录(自1.3.x版本开始版本更新记录将不在此处展示。请根据 github release 为准)</h1><h2 id="_1-1-0-release发布" tabindex="-1"><a class="header-anchor" href="#_1-1-0-release发布" aria-hidden="true">#</a> 1.1.0 Release发布</h2><h4 id="更新日期-2023-01-03" tabindex="-1"><a class="header-anchor" href="#更新日期-2023-01-03" aria-hidden="true">#</a> 更新日期：2023-01-03</h4><p>1.1.0 已经适配Hyperf3.0，要求最低版本PHP8.0（跟之前一样），同时支持8.1和8.2版本 更新代码后，需要执行 <code>composer update -o</code> 即可升级hyperf到3.0</p><ul><li><p>[修复] 修复代码生成一些配置无效问题</p></li><li><p>[修复] 修复代码生成器缺失生成导入和导出</p></li><li><p>[修复] 修复修改配置数据报错异常</p></li><li><p>[修复] 修复phpoffice驱动设置宽度无效和报数组未定义问题</p></li><li><p>[修复] 修复代码生成器生成日期时间组件某些选项无效的问题</p></li><li><p>[修复] 修复代码生成器配置显示组件无效问题</p></li><li><p>[修复] 修复代码生成器生成删除接口拼写错误</p></li><li><p>[修复] 修复代码生成器未勾选必填项无效问题</p></li><li><p>[修复] 修复缓存监控和在线用户权限标识代码问题</p></li><li><p>[修复] 修复生成控制器注释生成错误</p></li><li><p>[修复] 修复代码生成器生成日期时间组件为范围选择的时候无效问题</p></li><li><p>[修复] 修复生成控制器生成用户选择器组件名字拼写错误</p></li><li><p>[修复] 修复记录删除定时任务日志时，业务名称为未定义菜单问题</p></li><li><p>[修复] 优化删除附件逻辑，改为删除附件时判断附件当时使用的存储方式。感谢@maimake贡献的代码</p></li><li><p>[修复] 修复服务监控某些情况下可能出现变量未定义</p></li><li><p>[修复] 修复优化Mine.php造成获取模块地址出错</p></li><li><p>[修复] 修复代码生成器生成密码组件formType属性错误问题</p></li><li><p>[修复] 修复之前改表字段名导致选择上传存储模式失效问题</p></li><li><p>[修复] 修复上传功能找不到配置项问题</p></li><li><p>[修复] 修复类型不匹配导致选择文件存储类型失败</p></li><li><p>[修复] 修复之前改表字段名导致选择上传存储模式失效问题</p></li><li><p>[修复] 修复获取当前用户部门id返回值类型不对问题</p></li><li><p>[修复] 修复本部门和子部门数据权限bug以及获取部门树数据非顶级不显示bug</p></li><li><p>[修复] 修复 DemoApi.php 调用函数名称拼写错误问</p></li><li><p>[修复] 修复saveAspect在定时任务下，无法获取头信息导致任务执行失败</p></li><li><p>[修复] 修复数据权限本部门及子部门使用like查询的问题</p></li><li><p>[修复] 配置保存报类型错误的问题</p></li><li><p>[修复] 修复用户选择多部门后可能出现的请求超时</p></li><li><p>[优化] 导出excel添加参数</p></li><li><p>[优化] 更新所有权限注解的权限代码，以适配菜单只勾选父级菜单</p></li><li><p>[优化] 更新docker-composer</p></li><li><p>[优化] 代码生成器控制器生成列表添加父级权限</p></li><li><p>[优化] 公共控制器增加登录和操作日志方法</p></li><li><p>[优化] vue生成模板更新</p></li><li><p>[优化] 优化Mine.php、MineController.php，删除$this-&gt;app()方法，内部调用改用container()函数</p></li><li><p>[优化] 升级依赖</p></li><li><p>[优化] 优化获取缓存前缀赋予null默认值</p></li><li><p>[优化] 优化API返回数据类型格式，由自己控制</p></li><li><p>[优化] 优化清空缓存</p></li><li><p>[优化] 升级依赖</p></li><li><p>[优化] 新增和保存切面优化</p></li><li><p>[优化] 优化服务监控报错则返回无法获取信息</p></li><li><p>[优化] 优化表迁移创建结构</p></li><li><p>[优化] 配置值适配最新的ma-form组件props</p></li><li><p>[优化] 设置菜单权限获取数据逻辑变更，只能看到自己有权限的菜单</p></li><li><p>[优化] 优化更新获取模块名称大小写逻辑</p></li><li><p>[优化] 代码生成器优化 1.无操作选项时生成代码隐藏操作列 2.去掉菜单配置必须选择限制</p></li><li><p>[新增] 公共控制器增加登录和操作日志方法</p></li><li><p>[新增] 新增用户添加和删除事件</p></li><li><p>[新增] 新增用户删除监听，删除用户同时让当前活跃用户状态失效</p></li><li><p>[新增] 代码生成器新增排序选项</p></li><li><p>[新增] 新增通过文件id或hash获取文件信息接口</p></li><li><p>[新增] 增强DTO导出注解，支持字典翻译功能</p></li><li><p>[新增] 用户改为多部门，部门新增设置领导。 PS:使用 php bin/hyperf.php mine:update 升级数据库</p></li></ul><h2 id="_1-0-0" tabindex="-1"><a class="header-anchor" href="#_1-0-0" aria-hidden="true">#</a> 1.0.0</h2><h4 id="更新日期-2022-09-22" tabindex="-1"><a class="header-anchor" href="#更新日期-2022-09-22" aria-hidden="true">#</a> 更新日期：2022-09-22</h4><p>此版本不兼容 0.x 版本升级</p><p>此版本着重更新了前端，由SCUI更换到自研的MineAdmin-Vue，使用了最新的技术栈，UI库更换为了Arco Design 着重设计了MaCrud和MaForm两个组件。在php与vue里使用前后端分离的，是第一个使用配置化开发CRUD的开源后台系统 我们没有选择php与vue耦合过深的开发方式，作为绝对的前后端分离，对于单纯使用前端去适配别的语言也更容易。</p><p>感谢 从2021年立项到现在，已经走过一年多，感谢看过的朋友、使用过的朋友、放弃过的朋友，感谢你们。 接下来，MineAdmin将继续优化、更新。做简单易用的后台管理系统。 待更新</p><h2 id="_0-7-2" tabindex="-1"><a class="header-anchor" href="#_0-7-2" aria-hidden="true">#</a> 0.7.2</h2><h4 id="更新日期-2022-06-02" tabindex="-1"><a class="header-anchor" href="#更新日期-2022-06-02" aria-hidden="true">#</a> 更新日期：2022-06-02</h4><ul><li>[优化] 消息中心侧边导航菜单设置背景颜色</li><li>[优化] 修复模块中间件插件模块名称带大写的问题，支持驼峰写法</li><li>[优化] 处理雪花id一些问题，附件表id改为自增ID。</li><li>[修复] 修复更新SCUI版本导致手机端错位</li></ul><p>前端更新：</p><p>执行 yarn 命令，更新依赖</p><p>后端更新：</p><p>执行 composesr install 安装缺少的依赖</p><h2 id="_0-7-1" tabindex="-1"><a class="header-anchor" href="#_0-7-1" aria-hidden="true">#</a> 0.7.1</h2><h4 id="更新日期-2022-05-31" tabindex="-1"><a class="header-anchor" href="#更新日期-2022-05-31" aria-hidden="true">#</a> 更新日期：2022-05-31</h4><ul><li><p>[增强] 编辑器集成资源选择器按钮，并支持直接将选择的图片插入到编辑器</p></li><li><p>[新增] http文件生成命令，生成所有api接口，便于在phpstorm编辑器中直接发起请求调试 【感谢 明日晴空 贡献的代码】</p></li><li><p>[升级] 前端核心依赖库element plus升级到2.2.2版本</p></li><li><p>[优化] 解决docker容器内无法删除container的文件夹 【感谢 Awin 贡献的代码】</p></li><li><p>[优化] 优化前端按钮适配新版本的element plus</p></li><li><p>[优化] scUpload的单上传和多上传取消默认只允许图片，改为所有文件。通过props的type=&quot;- [image|file]&quot;来设置允许上传文件类型</p></li><li><p>[优化] 载入数据表设置菜单名称默认为表描述</p></li><li><p>[优化] 事务注解改为原生注解写法</p></li><li><p>[优化] 前端验证码去掉 1il0o 之类难以识别的字符</p></li><li><p>[修复] 修复前端裁切图片问题</p></li><li><p>[修复] 生成 Request 多出的其他表字段照成的混乱 【感谢 Singularity 贡献的代码】</p></li><li><p>[修复] 生成代码 read 模板method错误修复</p></li><li><p>[修复] 修复生成模型改为正则匹配</p></li><li><p>[修复] citylinkage handler拼写错误 【感谢 NEKGod 贡献的代码】</p></li></ul><h2 id="_0-6-2" tabindex="-1"><a class="header-anchor" href="#_0-6-2" aria-hidden="true">#</a> 0.6.2</h2><h4 id="更新日期-2022-04-07" tabindex="-1"><a class="header-anchor" href="#更新日期-2022-04-07" aria-hidden="true">#</a> 更新日期：2022-04-07</h4><ul><li><p>[新增] 对xlswriter扩展的支持，excel的导入和导出增强，同时支持xlswriter和phpoffice</p></li><li><p>[新增] mineadmin配置文件新增excel_drive项，有[auto, xlsWirter, phpOfficce]三种选项</p></li><li><p>[新增] 注解 ExcelProperty 新增 单元格宽度，对齐方式，表头字体颜色，表头背景颜色，表体字体颜色，表体背景颜色 属性</p></li><li><p>[新增] swagger 接口文档</p></li><li><p>[新增] 表单设计器</p></li><li><p>[移除] scDialog组件，并且脱离scui的版本更新</p></li><li><p>[优化] 前端升级到 Element plus 2.x 版本，并适配最新版的element plus兼容性</p></li><li><p>[优化] 前端黑暗模式优化，修复多处升级后的bug</p></li><li><p>[优化] 顶级菜单路由支持网址模式，检测如果输入的是网址，那么顶级菜单点击后会打开新窗口</p></li><li><p>[优化] 更新xmo/jwt-auto包，修复此依赖的jwt刷新token问题</p></li><li><p>[修复] 修复已知的bug及问题</p></li></ul><p>提示：更新到0.6.2版本方法</p><ul><li><ol><li>更新后端依赖，执行 composer update 命令</li></ol></li><li><ol start="2"><li>后端执行升级SQL命令：php bin/hyperf.php mine:update</li></ol></li><li><ol start="3"><li>更新前端依赖，执行 yarn 命令</li></ol></li></ul><h2 id="_0-6-1" tabindex="-1"><a class="header-anchor" href="#_0-6-1" aria-hidden="true">#</a> 0.6.1</h2><h4 id="更新日期-2022-03-22" tabindex="-1"><a class="header-anchor" href="#更新日期-2022-03-22" aria-hidden="true">#</a> 更新日期：2022-03-22</h4><ul><li><p>[新增] 角色验证注解，支持多角色验证和条件验证(OR,AND)</p></li><li><p>[新增] 新增配置文件(config/autoload/mineadmin.php)，添加是否开启数据权限配置项</p></li><li><p>[新增] 代码生成器新增Tab组件，列表可为tab页面切换数据。感谢 kikigoper 贡献的代码</p></li><li><p>[新增] 新增了下载文件接口</p></li><li><p>[变更] API接口授权的简易模式策略变更</p></li><li><p>[变更] 删除maResourceSelect资源选择器组件，改为使用scui系列组件</p></li><li><p>[变更] 代码生成器maResourceSelect变更为scui组件</p></li><li><p>[变更] 更换定时规则生成器为SCUI版</p></li><li><p>[变更] 载入common下公共函数库文件方式变更，不再使用composer.json的自动加载方式</p></li><li><p>[变更] 附件管理左侧目录管理变更为类型管理，类型可通过字典维护</p></li><li><p>[修复] 定时任务rule字段长度不够导致保存或更新失败问题</p></li><li><p>[修复] 部分页面在移动端显示异常问题</p></li><li><p>[修复] 安装系统命令数据库端口参数丢失问题，感谢Bruce-K 贡献的代码</p></li><li><p>[修复] 前端index.html提示浏览器版本过低乱码问题</p></li><li><p>[修复] 多参数注解在原生注解下不生效的问题</p></li><li><p>[修复] 自增ID模型在新增失败的问题</p></li><li><p>[修复] 编辑器上传图片后回显问题</p></li><li><p>[修复] 彻底修复本地与第三方上传存储路径不一致问题</p></li><li><p>[优化] 数据表设计器优化，默认第一个字段是主键ID</p></li><li><p>[优化] 多次打开装载数据表Modal后，勾选数据丢失问题</p></li><li><p>[优化] webscoket.js 开启心跳报错问题</p></li><li><p>[优化] 上传图片和上传文件超时时间改为默认30秒</p></li><li><p>[优化] 设置默认点击菜单数据即可打开子节点</p></li><li><p>[优化] 代码生成器生成目录改为强制模式</p></li><li><p>[优化] 更新到最新版hyperf，同步更新官方获取协程上下文命名空间地址</p></li></ul><p>提示：更新到0.6.1版本方法</p><ul><li><ol><li>更新后端依赖，执行 composer update 命令</li></ol></li><li><ol start="2"><li>后端执行升级SQL命令：php bin/hyperf.php mine:update</li></ol></li><li><ol start="3"><li>更新前端依赖，执行 yarn 命令</li></ol></li></ul><h2 id="_0-6-0" tabindex="-1"><a class="header-anchor" href="#_0-6-0" aria-hidden="true">#</a> 0.6.0</h2><h4 id="更新日期-2022-02-17" tabindex="-1"><a class="header-anchor" href="#更新日期-2022-02-17" aria-hidden="true">#</a> 更新日期：2022-02-17</h4><ul><li><p>[变更] 全面使用PHP8.0的原生注解特性</p></li><li><p>[变更] 更新SCUI一些新功能</p></li><li><p>[变更] xmo/jwt-auth组件更新版本</p></li><li><p>[变更] 更换定时规则生成器为SCUI版</p></li><li><p>[修复] toTree方法漏缺参数</p></li><li><p>[修复] 下载文件时使用操作日志注解报错问题</p></li><li><p>[修复] 生成JWT密钥命令，替换配置值失败 (感谢 smallpure)</p></li><li><p>[修复] 生成代码无表前缀bug</p></li><li><p>[修复] 消息重连bug</p></li><li><p>[修复] 修复缓存注解删除不存在缓存报错问题</p></li><li><p>[优化] 数据权限算法优化</p></li><li><p>[优化] 多选上传组件multiple增加最大选择数量maxSelect属性 (感谢 zio)</p></li><li><p>[优化] 命令文件命名调整及功能优化</p></li><li><p>[优化] 在某些情况下无法获取用户信息则抛出异常</p></li><li><p>[优化] 上传本地和OSS目录统一</p></li><li><p>[增强] 登录和操作日志添加IP搜索</p></li><li><p>[增强] <code>maTable</code>组件的 beforeQuery 事件增加第二个参数 requestData</p></li><li><p>[增强] 模块配置文件增加启用项</p></li><li><p>[增强] 模块命令增强，支持安装和卸载。</p></li><li><p>[增强] 后台模块管理新增安装、停用功能</p></li><li><p>[增强] user()函数获取角色、岗位方法</p></li></ul><p>提示：更新到<code>0.6.0</code>版本方法</p><ul><li><ol><li>更新后端依赖，执行 <code>composer update</code> 命令命令</li></ol></li><li><ol start="2"><li>后端执行升级SQL命令：<code>php bin/hyperf.php mine:update</code></li></ol></li><li><ol start="3"><li>更新前端依赖，执行 <code>yarn</code> 命令</li></ol></li></ul><h2 id="_0-5-4" tabindex="-1"><a class="header-anchor" href="#_0-5-4" aria-hidden="true">#</a> 0.5.4</h2><h4 id="更新日期-2022-01-19" tabindex="-1"><a class="header-anchor" href="#更新日期-2022-01-19" aria-hidden="true">#</a> 更新日期：2022-01-19</h4><ul><li><p>[增强] 菜单和角色修改和更新添加删除缓存注解，告别手动更新缓存</p></li><li><p>[增强] 增强权限注解，支持多个权限一起判断，可设置OR或AND通过条件</p></li><li><p>[修复] 修复更新数据方法会导致created_by数据变化</p></li><li><p>[修复] 修复代码生成器权限代码不一致，导致无权限</p></li><li><p>[修复] 修复雪花ID的bug，雪花ID生成放入容器</p></li><li><p>[修复] 修复ip库查不到地址信息导致空指针问题</p></li><li><p>[优化] 前端小细节优化</p></li><li><p>[优化] 无权限提示信息优化，提示到具体哪个接口没有权限</p></li><li><p>[优化] 生成代码检测表名条件优化增强</p></li></ul><h2 id="_0-5-3" tabindex="-1"><a class="header-anchor" href="#_0-5-3" aria-hidden="true">#</a> 0.5.3</h2><h4 id="更新日期-2022-01-15" tabindex="-1"><a class="header-anchor" href="#更新日期-2022-01-15" aria-hidden="true">#</a> 更新日期：2022-01-15</h4><ul><li><p>[新增] 新增add_queue函数，用于快捷投递任务到队列</p></li><li><p>[修复] 消息队列未判断影响到其他任务投递到队列问题</p></li><li><p>[修复] 后台右上角消息通知不显示问题</p></li><li><p>[优化] 优化了 xmo/jwt-auth 依赖包，修复黑名单失效提示notice错误</p></li><li><p>[优化] 优化了手动退出自动关闭ws连接</p></li></ul><p>老版本升级后，请执行composer install命令，更新依赖。</p><h2 id="_0-5-2" tabindex="-1"><a class="header-anchor" href="#_0-5-2" aria-hidden="true">#</a> 0.5.2</h2><h4 id="更新日期-2022-01-13" tabindex="-1"><a class="header-anchor" href="#更新日期-2022-01-13" aria-hidden="true">#</a> 更新日期：2022-01-13</h4><h4 id="php最低版本要求变更为8-0-不再支持7-4及以下版本" tabindex="-1"><a class="header-anchor" href="#php最低版本要求变更为8-0-不再支持7-4及以下版本" aria-hidden="true">#</a> PHP最低版本要求变更为8.0，不再支持7.4及以下版本</h4><h4 id="_0-5-1以下版本小伙伴们请酌情升级" tabindex="-1"><a class="header-anchor" href="#_0-5-1以下版本小伙伴们请酌情升级" aria-hidden="true">#</a> 0.5.1以下版本小伙伴们请酌情升级</h4><ul><li><p>[增强] 更换依赖phper666/jwt-auth到xmo/jwt-auth，从而支持了PHP8及以上版本</p></li><li><p>[修复] 降低element plus版本到1.2.0-beta.3，解决前端UI弹框的确定按钮不显示文字问题</p></li><li><p>[修复] 接口文档里面获取 AccessToken 报错问题</p></li></ul><p>从老版本升级到最新版本后，请执行 <code>composer install</code> 命令，更新依赖。</p><h2 id="_0-5-1" tabindex="-1"><a class="header-anchor" href="#_0-5-1" aria-hidden="true">#</a> 0.5.1</h2><h4 id="更新日期-2022-01-11" tabindex="-1"><a class="header-anchor" href="#更新日期-2022-01-11" aria-hidden="true">#</a> 更新日期：2022-01-11</h4><ul><li><p>[升级] 升级到SCUI最新的稳定版本</p></li><li><p>[修复] 修复队列重试时，数据套娃</p></li><li><p>[修复] 上传目录删除失败问题</p></li><li><p>[修复] 记录操作日志逻辑bug修复</p></li><li><p>[优化] 优化队列未开启时推送消息提示信息</p></li></ul><p>升级后，请执行 <code>yarn</code> 命令完成前端依赖升级更新</p><h2 id="_0-5-0" tabindex="-1"><a class="header-anchor" href="#_0-5-0" aria-hidden="true">#</a> 0.5.0</h2><h4 id="更新日期-2022-01-10" tabindex="-1"><a class="header-anchor" href="#更新日期-2022-01-10" aria-hidden="true">#</a> 更新日期：2022-01-10</h4><ul><li><p>[新增] RabbitMQ队列功能（默认未开启，安装rabbitMQ后，请看最下面的开启教程）</p></li><li><p>[新增] 新增队列日志管理</p></li><li><p>[新增] 新增发布公告和通知功能</p></li><li><p>[新增] 新增消息功能及消息中心</p></li><li><p>[新增] websocket消息服务器</p></li><li><p>[新增] 适配SCUI的资源选择组件</p></li><li><p>[新增] 新增用户选择器组件</p></li><li><p>[新增] 表设计器新增id是否生成雪花ID</p></li><li><p>[修复] 生成模型判断数据表与模块是否有关系</p></li><li><p>[修复] value() 方法返回值类型删除</p></li><li><p>[修复] 某些页面图标不显示问题</p></li><li><p>[修复] 删除上传目录查询逻辑</p></li><li><p>[修复] 部分页面因调整request.js返回code造成操作无响应问题</p></li><li><p>[修复] 修复头像不显示问题，优化上传</p></li><li><p>[修复] 修复部门列表不显示回收站按钮</p></li><li><p>[修复] 修复树表代码生成器bug</p></li><li><p>[修复] 修改数据权限的自定义权限bug</p></li><li><p>[优化] 前端新增.env环境变量</p></li><li><p>[优化] Class类型定时任务增加返回结果记录日志里</p></li><li><p>[优化] 代码生成vue目录名调整</p></li><li><p>[优化] 定时任务日志排序</p></li><li><p>[优化] 调用数据权限缺少用户id时，抛出异常</p></li><li><p>[优化] 代码生成器功能</p></li><li><p>[优化] 升级到hyperf最新版</p></li><li><p>[优化] 对部分数据表结构调整</p></li><li><p>[优化] 滑块验证器视觉上的问题</p></li></ul><p>老版本升级请按以下操作进行： -1、进入到后端根目录，首先执行 composer install 命令，安装新依赖。 -2、在后端根目录执行 php bin/hyperf.php mine:update 命令，执行升级SQL语句 -3、若使用队列功能，请在后台.env文件增加以下内容：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>AMQP_HOST = 127.0.0.1
AMQP_PORT = 5672
AMQP_USER = guest
AMQP_PASSWORD = guest
AMQP_VHOST = /
AMQP_ENABLE = true
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>-4、开启rabbitMQ的生产和消费进程（请确保已安装rabbitMQ）</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>打开 App\\System\\Queue\\Consumer\\MessageConsumer.php
搜索文件 把 #Consumer 替换成 @Consumer

打开 App\\System\\Queue\\Producer\\MessageProducer.php
搜索文件 把 #Producer 替换成 @Producer
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_0-4-2" tabindex="-1"><a class="header-anchor" href="#_0-4-2" aria-hidden="true">#</a> 0.4.2</h2><h4 id="更新日期-2021-12-17" tabindex="-1"><a class="header-anchor" href="#更新日期-2021-12-17" aria-hidden="true">#</a> 更新日期：2021-12-17</h4><ul><li><p>[修复] 代码生成带表前缀，无法生成模型问题。</p></li><li><p>[修复] 部门和菜单数据权限问题</p></li><li><p>[修复] 前端 viewImage 在某些情况下出现变量未定义问题</p></li><li><p>[优化] 生成模型判断数据表与模块是否有关系</p></li></ul><h2 id="_0-4-1" tabindex="-1"><a class="header-anchor" href="#_0-4-1" aria-hidden="true">#</a> 0.4.1</h2><h4 id="更新日期-2021-12-16" tabindex="-1"><a class="header-anchor" href="#更新日期-2021-12-16" aria-hidden="true">#</a> 更新日期：2021-12-16</h4><ul><li><p>[修复] 因去掉业务级拦截器造成部分页面没有提示问题</p></li><li><p>[修复] 模型 $cats 类型转换问题</p></li><li><p>[修复] 数据权限选择自定义部门后更换其他类型前端报错问题</p></li><li><p>[修复] 导入组件使用姿势错误导致权限失效</p></li><li><p>[修复] 前端标题有时候会undefined，感谢 zio 贡献的代码</p></li><li><p>[优化] 更换登录背景</p></li><li><p>[优化] 应用修改app_secret时，弹出确认框，感谢 7788 贡献的代码</p></li><li><p>[优化] 生成代码 code 修改为短业务名</p></li><li><p>[优化] 用户选择角色过滤掉超管角色</p></li><li><p>[优化] 数据库事务注解抛出异常由NormalStatusException改为MineException</p></li><li><p>[新增] 操作日志注解新增直接传入菜单名称</p></li><li><p>[新增] 新增删除缓存注解，在请求完成后执行。</p></li></ul><h2 id="_0-4-0" tabindex="-1"><a class="header-anchor" href="#_0-4-0" aria-hidden="true">#</a> 0.4.0</h2><h4 id="更新日期-2021-12-07" tabindex="-1"><a class="header-anchor" href="#更新日期-2021-12-07" aria-hidden="true">#</a> 更新日期：2021-12-07</h4><p>新增API授权管理</p><p>新版本增加了一套api解决方案。</p><p>可自行在后台创建API，对API的请求和响应数据进行控制。可以对API进行最高 oauth2.0 形式的授权</p><p>api 可以进行分组管理，对api进行 app级别的接口绑定，复用等管理。</p><p>此外还有api文档自动生成、模拟请求api功能</p><ul><li><p>[修复] 修复代码生成器选择生成到模块后，无法预览代码的情况</p></li><li><p>[修复] 修复城市选择器padding问题</p></li><li><p>[修复] 修复回收站菜单删除bug</p></li><li><p>[修复] 优化导入删除临时文件逻辑</p></li><li><p>[修复] 一些地方文字描述错误</p></li><li><p>[优化] 附件保存数据库地址改为相对地址（请自行批量替换system_uploadfile表的url字段，把前面的url地址给去掉）</p></li><li><p>[优化] 城市联级选择器改为联级单层选择，新增城市codeToCity方法</p></li><li><p>[优化] 升级SCUI的版本，图标由font字体改为svg文件</p></li><li><p>[优化] mapper接收排序参数以及排序逻辑优化</p></li><li><p>[优化] 登录监听客户端操作系统、浏览器等useragent优化</p></li><li><p>[优化] 整理优化现由表结构</p></li><li><p>[优化] 优化导入删除临时文件逻辑</p></li><li><p>[新增] 城市联级和城市下拉选择器，可设置返回code或城市名</p></li><li><p>[新增] ORM的macro 新增 andFilterWhere 和 orFilterWhere 方法</p></li><li><p>[新增] service 和 mapper层新增属性注入方法，注入后可以 this方式访问数据库字段（需手动注入）- [新增]service新增批量保存数据方法batchSave(arraycollects)</p></li><li><p>[新增] 新增monaco编辑器组件，可用于编辑json</p></li><li><p>[新增] 新增业务级自定义函数库 common/common.php</p></li><li><p>[新增] mapper获取列表类数据新增$isScope参数，可控制是否调用数据权限</p></li><li><p>[新增] 新增 mine:gen-jwt --jwtSecret=密钥名称 命令，可生成其他场景的jwt验证密钥</p></li></ul><p>老版本升级请按以下操作进行：</p><ul><li>1、进入到前端根目录，在命令行执行 yarn install 命令</li><li>2、进入到后端根目录，首先执行 composer install 命令，安装新依赖。</li><li>3、在后端根目录执行 php bin/hyperf.php mine:update 命令，执行升级SQL语句</li><li>4、在后端根目录执行 php bin/hyperf.php mine:gen-jwt --jwtSecret=JWT_API_SECRET 生成 API 的 jwt 密钥</li><li>5、下载SQL附件，更新菜单图标 （如有表前缀，请自定打开SQL文件替换）</li><li>6、更新缓存</li></ul><h2 id="_0-3-10" tabindex="-1"><a class="header-anchor" href="#_0-3-10" aria-hidden="true">#</a> 0.3.10</h2><h4 id="更新日期-2021-11-09" tabindex="-1"><a class="header-anchor" href="#更新日期-2021-11-09" aria-hidden="true">#</a> 更新日期：2021-11-09</h4><ul><li><p>[修复] 附件管理分页错误</p></li><li><p>[修复] 上传图片格式化大小错误</p></li><li><p>[修复] 删除部门，如果有子级情况下，会跳过删除，但提示删除成功的错误</p></li><li><p>[修复] 通过key获取配置方法调用错误</p></li><li><p>[修复] 非统计页面路由错误，并优化图标随机色块</p></li><li><p>[修复] 一些地方文字描述错误</p></li><li><p>[优化] Excel导出数据大数字避免科学计数法</p></li><li><p>[优化] 后台个性化设置重新优化，支持保存到服务器端</p></li><li><p>[优化] 经典模式侧边栏菜单改为手风琴效果</p></li><li><p>[优化] 优化验证码缓存key生成</p></li><li><p>[优化] 部门、岗位、字典状态修改功能完善</p></li><li><p>[优化] 事务注解增加重试参数</p></li><li><p>[新增] 城市联级和城市下拉选择器，可设置返回code或城市名</p></li><li><p>[新增] 后端和前端各增加验证码方式开关</p></li><li><p>[新增] 滑块验证码，支持拼图、旋转图片验证等方式</p></li><li><p>[新增] 登录新增滑块验证码（前端验证）</p></li><li><p>[新增] 定时任务新增表达式生成器</p></li></ul><p>PS： 前端需要重新安装依赖，请执行 yarn install 命令</p><p>服务启动后，请新开一个终端运行 php bin/hyperf.php mine:update 命令，升级SQL</p><p>若更新后登录遇到 code字段是必须的 提示，请修改以下文件临时修复这个bug：</p><p>打开 mine-ui/src/views/userCenter/login.vue 转到第215行：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ruleForm<span class="token punctuation">.</span>code <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>verifyType <span class="token operator">===</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ruleForm<span class="token punctuation">.</span>code <span class="token operator">=</span> <span class="token string">&#39;code&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>修改为</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ruleForm<span class="token punctuation">.</span>code <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>verifyType <span class="token operator">!==</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ruleForm<span class="token punctuation">.</span>code <span class="token operator">=</span> <span class="token string">&#39;code&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_0-3-9" tabindex="-1"><a class="header-anchor" href="#_0-3-9" aria-hidden="true">#</a> 0.3.9</h2><h4 id="更新日期-2021-11-05" tabindex="-1"><a class="header-anchor" href="#更新日期-2021-11-05" aria-hidden="true">#</a> 更新日期：2021-11-05</h4><ul><li><p>[修复] 修复获取网络图片大小不准确问题</p></li><li><p>[修复] 修复其他已知问题</p></li><li><p>[优化] 更新SCUI的路由扁平化，并匹配合适系统的方式优化路由</p></li><li><p>[优化] 生成代码支持生成到模块（仅限后端文件），前端和sql还是以压缩包形式下载</p></li><li><p>[优化] 生成模型防止表名称不符合规则导致超时问题</p></li><li><p>[优化] 修改操作记录表router字段长度为500</p></li><li><p>[优化] 优化系统更新命令 mine:update 支持修改表结构</p></li><li><p>[优化] 后台个性设置保存到本地localstorage</p></li><li><p>[新增] redis锁</p></li><li><p>[新增] 防止重复提交注解 @Resubmit</p></li></ul><p>PS： 更新版本后，请重新运行 composer install 命令安装依赖 服务启动后，请新开一个端口运行 php bin/hyperf.php mine:update 命令，升级SQL</p><h2 id="_0-3-8" tabindex="-1"><a class="header-anchor" href="#_0-3-8" aria-hidden="true">#</a> 0.3.8</h2><h4 id="更新日期-2021-11-02" tabindex="-1"><a class="header-anchor" href="#更新日期-2021-11-02" aria-hidden="true">#</a> 更新日期：2021-11-02</h4><ul><li><p>[修复] 角色修改时，修复没有去除主键key，导致在恶意情况下会改变主键值的bug</p></li><li><p>[修复] 修复LoginUser类的getId方法返回值类型错误的问题</p></li><li><p>[优化] 提高程序健壮性，对增删改查模型进行判断，以防出现null调用方法</p></li><li><p>[优化] 更换登录界面图片</p></li><li><p>[优化] 代码版权注释完善</p></li><li><p>[新增] mapper类型新增常用方法</p></li><li><p>[新增] 图片上传新增保存和使用网络图片</p></li><li><p>[新增] 新增延迟队列实现，感谢mike贡献的代码。</p></li></ul><h2 id="_0-3-7" tabindex="-1"><a class="header-anchor" href="#_0-3-7" aria-hidden="true">#</a> 0.3.7</h2><h4 id="更新日期-2021-10-28" tabindex="-1"><a class="header-anchor" href="#更新日期-2021-10-28" aria-hidden="true">#</a> 更新日期：2021-10-28</h4><ul><li><p>[修复] 修复因删除MethodNotAllowExceptionHandler类，但配置文件没有删掉配置造成的报错。</p></li><li><p>[优化] 更换新的验证码组件，返回验证码方式由base64改为图片地址</p></li><li><p>[优化] 前端增加全局配置请求超时时间项，在 config/index.js 的TIMEOUT可以设置超时时间</p></li><li><p>[优化] 优化缓存监控界面功能</p></li></ul><p>PS: 请重新执行 composer install</p><h2 id="_0-3-6" tabindex="-1"><a class="header-anchor" href="#_0-3-6" aria-hidden="true">#</a> 0.3.6</h2><h4 id="更新日期-2021-10-27" tabindex="-1"><a class="header-anchor" href="#更新日期-2021-10-27" aria-hidden="true">#</a> 更新日期：2021-10-27</h4><ul><li><p>[优化] 权限菜单：可以选择删除按钮菜单</p></li><li><p>[新增] 开发工具菜单前端可控制，详细查看 config/index.js 的APP_MODE说明</p></li><li><p>[新增] 新增多个字典获取方法，this.getDicts(- [&#39;字典1&#39;, &#39;字典2&#39;])</p></li><li><p>[新增] 新增缓存监控功能，可以查看redis信息和当前缓存列表</p></li></ul><p>PS：更新此版本后，请执行更新命令完成SQL升级 php bin/hyperf.php mine:update</p><h2 id="_0-3-5" tabindex="-1"><a class="header-anchor" href="#_0-3-5" aria-hidden="true">#</a> 0.3.5</h2><h4 id="更新日期-2021-10-25" tabindex="-1"><a class="header-anchor" href="#更新日期-2021-10-25" aria-hidden="true">#</a> 更新日期：2021-10-25</h4><ul><li><p>[优化] 用户编辑增加头像修改</p></li><li><p>[优化] 登录日志和操作日志添加默认排序</p></li><li><p>[优化] 前后端底层支持多语言</p></li><li><p>[优化] 后端多语言包，目前支持中文和英文，前端也将慢慢开始优化</p></li><li><p>[新增] 后端新增多语言函数 t()</p></li><li><p>[新增] 前端向后端请求header里增加语言参数</p></li></ul><h2 id="_0-3-4" tabindex="-1"><a class="header-anchor" href="#_0-3-4" aria-hidden="true">#</a> 0.3.4</h2><h4 id="更新日期-2021-10-23" tabindex="-1"><a class="header-anchor" href="#更新日期-2021-10-23" aria-hidden="true">#</a> 更新日期：2021-10-23</h4><ul><li><p>[修复] 修复已知问题及bug</p></li><li><p>[优化] 更新最新版的SCUI</p></li><li><p>[优化] 附件管理界面形式更改</p></li><li><p>[优化] 使用新版的SCUI登录界面，后续还会继续优化。</p></li><li><p>[优化] 完善资源选择管理器</p></li><li><p>[优化] 更新依赖</p></li><li><p>[新增] 组件演示</p></li><li><p>[新增] 锁屏功能</p></li></ul><p>PS:此版本前端需要删除老的node_modules，重新执行 yarn 或者 npm install 安装依赖</p><h2 id="_0-3-3" tabindex="-1"><a class="header-anchor" href="#_0-3-3" aria-hidden="true">#</a> 0.3.3</h2><h4 id="更新日期-2021-10-20" tabindex="-1"><a class="header-anchor" href="#更新日期-2021-10-20" aria-hidden="true">#</a> 更新日期：2021-10-20</h4><ul><li><p>[修复] 修复字典添加完成后列表跳到第一个类型的问题</p></li><li><p>[修复] 修复其他已知问题</p></li><li><p>[优化] 部门编辑的时候，禁止选择上级部门为本部门</p></li><li><p>[优化] 修改默认主题颜色</p></li><li><p>[优化] 附件管理增强，添加上传按钮，侧边添加目录管理，可以新建、删除目录。</p></li><li><p>[优化] 启动服务提示文字修改，增加webscoket服务。PS:可以自己关闭。</p></li><li><p>[优化] maTable 新增两个回调方法，支持原生属性绑定</p></li><li><p>[优化] 更新依赖</p></li><li><p>[新增] 资源文件选择器，可以选择已上传的图片等。后续功能继续优化增强</p></li><li><p>[新增] 添加助手函数库文件functions.php</p></li></ul><h2 id="_0-3-1" tabindex="-1"><a class="header-anchor" href="#_0-3-1" aria-hidden="true">#</a> 0.3.1</h2><h4 id="更新日期-2021-10-09" tabindex="-1"><a class="header-anchor" href="#更新日期-2021-10-09" aria-hidden="true">#</a> 更新日期：2021-10-09</h4><p>紧急修复一个bug</p><h2 id="_0-3-1-1" tabindex="-1"><a class="header-anchor" href="#_0-3-1-1" aria-hidden="true">#</a> 0.3.1</h2><h4 id="更新日期-2021-10-08" tabindex="-1"><a class="header-anchor" href="#更新日期-2021-10-08" aria-hidden="true">#</a> 更新日期：2021-10-08</h4><ul><li><p>[修复] 修复代码生成器一些问题</p></li><li><p>[修复] 修复系统路由载入错误导致xxx.js报错</p></li><li><p>[优化] 更新最新的SCUI版本</p></li></ul><p>ps：前端更新到最新的SCUI版本跨度较大，含有小部分破坏性更新，更新后请删除node_module，重新安装前端依赖</p><h2 id="_0-3-0" tabindex="-1"><a class="header-anchor" href="#_0-3-0" aria-hidden="true">#</a> 0.3.0</h2><h4 id="更新日期-2021-09-15" tabindex="-1"><a class="header-anchor" href="#更新日期-2021-09-15" aria-hidden="true">#</a> 更新日期：2021-09-15</h4><ul><li><p>[修复] 修复代码生成器已知问题</p></li><li><p>[修复] 修复系统监控在mac下500错误问题</p></li><li><p>[优化] 用户多选删除，过滤掉超级管理员</p></li><li><p>[优化] 去掉登录页面方块动画</p></li><li><p>[优化] 在线表设计器支持数字和下划线</p></li><li><p>[优化] 代码生成器兼容hyperf创建模型以s结尾的问题</p></li><li><p>[优化] 定时任务查看日志抽屉大小调整</p></li><li><p>[优化] 用户数据权限完善优化</p></li><li><p>[新增] 导入和导出功能</p></li><li><p>[新增] 导入导出相关建立的DTO类（data to object)的注解</p></li><li><p>[新增] 数据库事务注解</p></li><li><p>[新增] 用户管理增加导入和导出功能</p></li></ul><h2 id="_0-2" tabindex="-1"><a class="header-anchor" href="#_0-2" aria-hidden="true">#</a> 0.2</h2><h4 id="更新日期-2021-09-01" tabindex="-1"><a class="header-anchor" href="#更新日期-2021-09-01" aria-hidden="true">#</a> 更新日期：2021-09-01</h4><ul><li>代码生成器完善</li></ul><h2 id="_0-1" tabindex="-1"><a class="header-anchor" href="#_0-1" aria-hidden="true">#</a> 0.1</h2><h4 id="更新日期-2021-08-15" tabindex="-1"><a class="header-anchor" href="#更新日期-2021-08-15" aria-hidden="true">#</a> 更新日期：2021-08-15</h4><ul><li>第一个版本发布</li></ul>`,126),n=[r];function d(s,h){return l(),p("div",null,n)}const o=i(a,[["render",d],["__file","index.html.vue"]]);export{o as default};
